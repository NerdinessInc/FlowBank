(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7783],{560:function(e,t,n){Promise.resolve().then(n.bind(n,4660))},4660:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(7437),a=n(2265),s=n(1014),o=n(9343),l=n(9772),i=n(932),c=n(7651),d=n(495),u=n(3102),m=n(6661),f=n(6294),x=n(4194),p=n(4058),h=n(8415);function j(){var e;let{userData:t}=(0,x.U)(),[n,j]=(0,a.useState)(1),{data:y,isLoading:g}=(0,i.a)({queryKey:["my-accounts"],queryFn:()=>{var e;return(0,h.Bz)(2,null==t?void 0:t.userRec,null==t?void 0:null===(e=t.acctCollection)||void 0===e?void 0:e.AcctStruct)},enabled:!!(null==t?void 0:null===(e=t.acctCollection)||void 0===e?void 0:e.AcctStruct)}),N=l.z.object({sourceAccount:l.z.string().min(1,"Please select your source account"),dailyTransferLimit:l.z.number().min(1,"Please enter your daily transfer limit"),destinationAccount:l.z.string().min(1,"Please enter your destination account"),amount:l.z.string().min(1,"Please enter your amount"),token:l.z.string().min(1,"Please enter your Token")}),b=(0,o.cI)({defaultValues:{sourceAccount:"",dailyTransferLimit:0,destinationAccount:"",amount:"",token:""},resolver:(0,s.F)(N),mode:"onChange"}),{handleSubmit:v,control:w,trigger:C,getValues:k,setValue:_,watch:A}=b;(0,a.useEffect)(()=>{if(A("sourceAccount").length>=10){var e,n,r;_("dailyTransferLimit",null==t?void 0:null===(r=t.pLimitsObject)||void 0===r?void 0:null===(n=r.LimitsObject)||void 0===n?void 0:null===(e=n.find(e=>e.Accountnumber.toString()===A("sourceAccount")))||void 0===e?void 0:e.InternalXferLimit)}},[_,t,A("sourceAccount")]);let z=async()=>{await C({1:["sourceAccount"],2:["dailyTransferLimit","destinationAccount"],3:["amount"]}[n])&&j(e=>Math.min(e+1,4))},I=()=>{j(e=>Math.max(e-1,1))},D=async e=>{console.log(e)};return g?(0,r.jsx)(c.g,{}):(0,r.jsxs)("main",{className:"h-full w-full flex flex-col gap-6 items-center md:justify-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Internal Transfers"}),(0,r.jsxs)("div",{className:"w-full text-center mb-4",children:[(0,r.jsxs)("h3",{className:"text-lg",children:["Step ",n," of 4"]}),(0,r.jsxs)("p",{className:"text-gray-600",children:[1===n&&"Select your source account",2===n&&"Enter daily transfer limit and destination account",3===n&&"Enter transfer amount",4===n&&"Confirm transfer details"]})]}),(0,r.jsx)(m.l0,{...b,children:(0,r.jsxs)("form",{onSubmit:v(D),className:"w-[90%] md:w-2/3 grid grid-cols-1 gap-4 border border-border rounded-md p-6",children:[1===n&&(0,r.jsx)(m.Wi,{control:w,name:"sourceAccount",render:e=>{var t;let{field:n}=e;return(0,r.jsxs)(m.xJ,{children:[(0,r.jsx)(m.lX,{children:"Source Account"}),(0,r.jsx)(m.NI,{children:(0,r.jsxs)(f.Ph,{onValueChange:n.onChange,value:n.value,children:[(0,r.jsx)(f.i4,{children:(0,r.jsx)(f.ki,{placeholder:"Select Source Account"})}),(0,r.jsx)(f.Bw,{children:null==y?void 0:null===(t=y.data)||void 0===t?void 0:t.map((e,t)=>(0,r.jsxs)(f.Ql,{value:e.accountNumber,children:[e.accountNumber," -"," ",(0,p.x)(e.bookBalance)]},t))})]})}),(0,r.jsx)(m.zG,{})]})}}),2===n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Wi,{control:w,name:"dailyTransferLimit",render:e=>{let{field:t}=e;return(0,r.jsxs)(m.xJ,{children:[(0,r.jsx)(m.lX,{children:"Daily Transfer Limit"}),(0,r.jsx)(m.NI,{children:(0,r.jsx)(u.I,{...t,placeholder:"Enter your daily transfer limit",disabled:!0})}),(0,r.jsx)(m.zG,{})]})}}),(0,r.jsx)(m.Wi,{control:w,name:"destinationAccount",render:e=>{let{field:t}=e;return(0,r.jsxs)(m.xJ,{children:[(0,r.jsx)(m.lX,{children:"Destination Account"}),(0,r.jsx)(m.NI,{children:(0,r.jsx)(u.I,{...t,placeholder:"Enter your destination account"})}),(0,r.jsx)(m.zG,{})]})}})]}),3===n&&(0,r.jsx)(m.Wi,{control:w,name:"amount",render:e=>{let{field:t}=e;return(0,r.jsxs)(m.xJ,{children:[(0,r.jsx)(m.lX,{children:"Amount"}),(0,r.jsx)(m.NI,{children:(0,r.jsx)(u.I,{...t,placeholder:"Enter your amount"})}),(0,r.jsx)(m.zG,{})]})}}),4===n&&(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("p",{className:"mb-4",children:["You are about to transfer ",(0,p.x)(k("amount"))," ","from your account ",k("sourceAccount")," to"," ",k("destinationAccount"),"."]}),(0,r.jsx)("p",{className:"font-bold mb-4",children:"Do you want to proceed?"}),(0,r.jsx)(m.Wi,{control:w,name:"token",render:e=>{let{field:t}=e;return(0,r.jsxs)(m.xJ,{children:[(0,r.jsx)(m.lX,{children:"Token"}),(0,r.jsx)(m.NI,{children:(0,r.jsx)(u.I,{...t,placeholder:"Enter your Token"})}),(0,r.jsx)(m.zG,{})]})}})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[n>1&&(0,r.jsx)(d.z,{type:"button",onClick:I,variant:"outline",className:"mr-2",children:"Back"}),n<4&&(0,r.jsx)(d.z,{type:"button",className:"ml-auto",onClick:z,children:"Next"}),4===n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.z,{type:"button",onClick:I,variant:"outline",children:"Cancel"}),(0,r.jsx)(d.z,{type:"submit",className:"ml-auto",children:"Confirm Transfer"})]})]})]})})]})}},7651:function(e,t,n){"use strict";n.d(t,{g:function(){return a}});var r=n(7437);let a=()=>(0,r.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,r.jsx)("span",{className:"animate-ping relative inline-flex rounded-full h-6 w-6 bg-primary/20"})})},6661:function(e,t,n){"use strict";n.d(t,{l0:function(){return u},NI:function(){return y},Wi:function(){return f},xJ:function(){return h},lX:function(){return j},zG:function(){return g}});var r=n(7437),a=n(2265),s=n(1538),o=n(9343),l=n(7440),i=n(8364);let c=(0,n(2218).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(i.f,{ref:t,className:(0,l.cn)(c(),n),...a})});d.displayName=i.f.displayName;let u=o.RV,m=a.createContext({}),f=e=>{let{...t}=e;return(0,r.jsx)(m.Provider,{value:{name:t.name},children:(0,r.jsx)(o.Qr,{...t})})},x=()=>{let e=a.useContext(m),t=a.useContext(p),{getFieldState:n,formState:r}=(0,o.Gc)(),s=n(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...s}},p=a.createContext({}),h=a.forwardRef((e,t)=>{let{className:n,...s}=e,o=a.useId();return(0,r.jsx)(p.Provider,{value:{id:o},children:(0,r.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",n),...s})})});h.displayName="FormItem";let j=a.forwardRef((e,t)=>{let{className:n,...a}=e,{error:s,formItemId:o}=x();return(0,r.jsx)(d,{ref:t,className:(0,l.cn)(s&&"text-destructive",n),htmlFor:o,...a})});j.displayName="FormLabel";let y=a.forwardRef((e,t)=>{let{...n}=e,{error:a,formItemId:o,formDescriptionId:l,formMessageId:i}=x();return(0,r.jsx)(s.g7,{ref:t,id:o,"aria-describedby":a?"".concat(l," ").concat(i):"".concat(l),"aria-invalid":!!a,...n})});y.displayName="FormControl",a.forwardRef((e,t)=>{let{className:n,...a}=e,{formDescriptionId:s}=x();return(0,r.jsx)("p",{ref:t,id:s,className:(0,l.cn)("text-sm text-muted-foreground",n),...a})}).displayName="FormDescription";let g=a.forwardRef((e,t)=>{let{className:n,children:a,...s}=e,{error:o,formMessageId:i}=x(),c=o?String(null==o?void 0:o.message):a;return c?(0,r.jsx)("p",{ref:t,id:i,className:(0,l.cn)("text-sm font-medium text-destructive",n),...s,children:c}):null});g.displayName="FormMessage"},3102:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(7437),a=n(2265),s=n(7440);let o=a.forwardRef((e,t)=>{let{className:n,type:a,...o}=e;return(0,r.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...o})});o.displayName="Input"},6294:function(e,t,n){"use strict";n.d(t,{Bw:function(){return p},Ph:function(){return d},Ql:function(){return h},i4:function(){return m},ki:function(){return u}});var r=n(7437),a=n(2265),s=n(4357),o=n(2421),l=n(4392),i=n(2468),c=n(7440);let d=s.fC;s.ZA;let u=s.B4,m=a.forwardRef((e,t)=>{let{className:n,children:a,...l}=e;return(0,r.jsxs)(s.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...l,children:[a,(0,r.jsx)(s.JO,{asChild:!0,children:(0,r.jsx)(o.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=s.xz.displayName;let f=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",n),...a,children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})});f.displayName=s.u_.displayName;let x=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",n),...a,children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})});x.displayName=s.$G.displayName;let p=a.forwardRef((e,t)=>{let{className:n,children:a,position:o="popper",...l}=e;return(0,r.jsx)(s.h_,{children:(0,r.jsxs)(s.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:o,...l,children:[(0,r.jsx)(f,{}),(0,r.jsx)(s.l_,{className:(0,c.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(x,{})]})})});p.displayName=s.VY.displayName,a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...a})}).displayName=s.__.displayName;let h=a.forwardRef((e,t)=>{let{className:n,children:a,...o}=e;return(0,r.jsxs)(s.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(s.wU,{children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(s.eT,{children:a})]})});h.displayName=s.ck.displayName,a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",n),...a})}).displayName=s.Z0.displayName},4194:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(903);let a=(e,t,n)=>{let r=new Date(new Date().getTime()+1e3*(n||14400)),a="expires=".concat(r.toUTCString()),s="".concat(e,"=").concat(t,"; ").concat(a,"; path=/");document.cookie=s},s=e=>{let t=("undefined"!=typeof document?decodeURIComponent(document.cookie):"").split(";");for(let n=0;n<t.length;n++){let r=t[n].trim();if(r.startsWith("".concat(e,"=")))return r.substring(e.length+1)}return null},o=e=>{document.cookie="".concat(e,"=; Max-Age=",0,"; path=/;")},l=e=>{if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},i=(0,r.U)()(e=>({userData:l(s("nomase_user"))||null,setUserData:t=>e({userData:t}),appData:l(s("nomase_app"))||null,setAppData:t=>e({appData:t}),menuControlData:l(s("nomase_menu"))||null,setMenuControlData:t=>e({menuControlData:t}),mainMenuData:l(s("nomase_main"))||null,setMainMenuData:t=>e({mainMenuData:t}),accessCode:l(s("nomase_access"))||"",setAccessCode:t=>{e({accessCode:t}),a("nomase_access",JSON.stringify(t))},login:t=>{e(()=>({userData:t}));let n=t.UserRec,r=t.AcctCollection,s=t.cod_prod,o=t.CompanyUsers,l=t.AcctBlocks,i=t.mMenuControls,c=t.xMainMenu,d=t.pLimitsObject;a("nomase_app",JSON.stringify({codProd:s,companyUsers:o,menuControls:i,acctBlocks:l})),a("nomase_user",JSON.stringify({userRec:n,acctCollection:r,pLimitsObject:d})),a("nomase_main",JSON.stringify({xMainMenu:c})),location.href="/dashboard"},logout:()=>{e(()=>({userData:null,appData:null,menuControlData:null,mainMenuData:null})),o("nomase_user"),o("nomase_app"),o("nomase_main"),location.href="/"}}))},4058:function(e,t,n){"use strict";n.d(t,{x:function(){return r}});let r=e=>parseFloat(e).toLocaleString("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:2})}},function(e){e.O(0,[8218,4868,9300,4469,6059,2576,5815,7860,8415,2971,7023,1744],function(){return e(e.s=560)}),_N_E=e.O()}]);