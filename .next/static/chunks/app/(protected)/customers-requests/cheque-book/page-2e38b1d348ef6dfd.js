(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9380],{957:function(e,t,s){Promise.resolve().then(s.bind(s,4075))},4075:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var n=s(7437),r=s(2265),a=s(6235),i=s(1014),o=s(9343),l=s(9772),u=s(932),c=s(5524),d=s(7651),h=s(495),m=s(6661),f=s(6294),p=s(4194),x=s(4058),y=s(8415);function g(){var e;let{userData:t}=(0,p.U)(),[s,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{!async function(){let e=await fetch("/api/getSessionId");e.ok?g((await e.json()).sessionID):console.error("Failed to fetch session ID")}()},[]);let{data:v,isLoading:b}=(0,u.a)({queryKey:["my-accounts"],queryFn:()=>{var e;return(0,y.Bz)(2,null==t?void 0:t.userRec,null==t?void 0:null===(e=t.acctCollection)||void 0===e?void 0:e.AcctStruct)},enabled:!!(null==t?void 0:null===(e=t.acctCollection)||void 0===e?void 0:e.AcctStruct)}),{mutate:j,isPending:N}=(0,c.D)({mutationFn:e=>(0,y.wg)(e),onSuccess:e=>{console.log(e)}}),w=l.z.object({messageTypeId:l.z.string().min(1,"Please enter your message type id"),messageDate:l.z.string().min(1,"Please enter your message date"),messageStatus:l.z.string().min(1,"Please enter your message status"),messageSenderName:l.z.string().min(1,"Please enter your message sender name"),messageSenderEmail:l.z.string().min(1,"Please enter your message sender email"),messageSenderPhone:l.z.number().min(1,"Please enter your message sender phone"),messageSenderCustId:l.z.number().min(1,"Please enter your message sender cust id"),account:l.z.string().min(1,"Please enter your source account"),leaves:l.z.string().min(1,"Please enter your leaves"),deliveryOption:l.z.string().min(1,"Please enter your delivery option")}),C=(0,o.cI)({defaultValues:{messageTypeId:"",messageDate:"",messageStatus:"",messageSenderName:"",messageSenderEmail:"",messageSenderPhone:"",messageSenderCustId:"",account:"",leaves:"",deliveryOption:""},resolver:(0,i.F)(w)}),{handleSubmit:S,setValue:R}=C;(0,r.useEffect)(()=>{var e;(null==v?void 0:v.data)&&s&&(null==t?void 0:null===(e=t.acctCollection)||void 0===e?void 0:e.AcctStruct)&&(R("messageTypeId","ChequeRequest|".concat(s)),R("messageDate",(0,a.WU)(new Date,"dd-MM-yyyy")),R("messageStatus","Pending"),R("messageSenderName",t.acctCollection.AcctStruct[1].cod_acct_title),R("messageSenderEmail",t.acctCollection.AcctStruct[1].Email),R("messageSenderPhone",t.acctCollection.AcctStruct[1].Gsm),R("messageSenderCustId",t.acctCollection.AcctStruct[1].CustomerID),R("deliveryOption","Branch"))},[v,s,t,R]);let O=async e=>{j({...e,messageBody:"Cheque Book request from User with Account Number: "+e.account+"|.Details are as follows: Number of requested leaves is "+e.leaves+",Requested Delivery Option is: "+e.deliveryOption})};return b?(0,n.jsx)(d.g,{}):(0,n.jsxs)("main",{className:"h-full w-full flex flex-col gap-6 items-center md:justify-center",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold",children:"Cheque Book Request"}),(0,n.jsx)(m.l0,{...C,children:(0,n.jsxs)("form",{onSubmit:S(O),className:"space-y-3 w-[90%] md:w-1/2 border border-border rounded-md p-6",children:[(0,n.jsx)(m.Wi,{control:C.control,name:"account",render:e=>{var t;let{field:s}=e;return(0,n.jsxs)(m.xJ,{children:[(0,n.jsx)(m.lX,{children:"Select Account"}),(0,n.jsx)(m.NI,{children:(0,n.jsxs)(f.Ph,{onValueChange:s.onChange,value:s.value,children:[(0,n.jsx)(f.i4,{children:(0,n.jsx)(f.ki,{placeholder:"Select Source Account"})}),(0,n.jsx)(f.Bw,{children:null==v?void 0:null===(t=v.data)||void 0===t?void 0:t.map((e,t)=>(0,n.jsxs)(f.Ql,{value:e.accountNumber,children:[e.accountNumber," -"," ",(0,x.x)(e.bookBalance)]},t))})]})}),(0,n.jsx)(m.zG,{})]})}}),(0,n.jsx)(m.Wi,{control:C.control,name:"leaves",render:e=>{let{field:t}=e;return(0,n.jsxs)(m.xJ,{children:[(0,n.jsx)(m.lX,{children:"No. of Leaves"}),(0,n.jsx)(m.NI,{children:(0,n.jsxs)(f.Ph,{value:t.value,onValueChange:t.onChange,children:[(0,n.jsx)(f.i4,{children:(0,n.jsx)(f.ki,{placeholder:"Select No. of Leaves"})}),(0,n.jsxs)(f.Bw,{children:[(0,n.jsx)(f.Ql,{value:"25",children:"25"}),(0,n.jsx)(f.Ql,{value:"50",children:"50"}),(0,n.jsx)(f.Ql,{value:"100",children:"100"})]})]})}),(0,n.jsx)(m.zG,{})]})}}),(0,n.jsx)(m.Wi,{control:C.control,name:"deliveryOption",render:e=>{let{field:t}=e;return(0,n.jsxs)(m.xJ,{children:[(0,n.jsx)(m.lX,{children:"Delivery Option"}),(0,n.jsx)(m.NI,{children:(0,n.jsxs)(f.Ph,{value:t.value,onValueChange:e=>t.onChange(e),children:[(0,n.jsx)(f.i4,{children:(0,n.jsx)(f.ki,{placeholder:"Select Delivery Option"})}),(0,n.jsxs)(f.Bw,{children:[(0,n.jsx)(f.Ql,{value:"branch",children:"By Branch"}),(0,n.jsx)(f.Ql,{value:"centralLocation",children:"By Central Location"})]})]})}),(0,n.jsx)(m.zG,{})]})}}),(0,n.jsx)(h.z,{className:"w-full font-semibold mt-3",type:"submit",children:N?"...":"Submit"})]})})]})}},7651:function(e,t,s){"use strict";s.d(t,{g:function(){return r}});var n=s(7437);let r=()=>(0,n.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,n.jsx)("span",{className:"animate-ping relative inline-flex rounded-full h-6 w-6 bg-primary/20"})})},6661:function(e,t,s){"use strict";s.d(t,{l0:function(){return d},NI:function(){return g},Wi:function(){return m},xJ:function(){return x},lX:function(){return y},zG:function(){return v}});var n=s(7437),r=s(2265),a=s(1538),i=s(9343),o=s(7440),l=s(8364);let u=(0,s(2218).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)(l.f,{ref:t,className:(0,o.cn)(u(),s),...r})});c.displayName=l.f.displayName;let d=i.RV,h=r.createContext({}),m=e=>{let{...t}=e;return(0,n.jsx)(h.Provider,{value:{name:t.name},children:(0,n.jsx)(i.Qr,{...t})})},f=()=>{let e=r.useContext(h),t=r.useContext(p),{getFieldState:s,formState:n}=(0,i.Gc)(),a=s(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:"".concat(o,"-form-item"),formDescriptionId:"".concat(o,"-form-item-description"),formMessageId:"".concat(o,"-form-item-message"),...a}},p=r.createContext({}),x=r.forwardRef((e,t)=>{let{className:s,...a}=e,i=r.useId();return(0,n.jsx)(p.Provider,{value:{id:i},children:(0,n.jsx)("div",{ref:t,className:(0,o.cn)("space-y-2",s),...a})})});x.displayName="FormItem";let y=r.forwardRef((e,t)=>{let{className:s,...r}=e,{error:a,formItemId:i}=f();return(0,n.jsx)(c,{ref:t,className:(0,o.cn)(a&&"text-destructive",s),htmlFor:i,...r})});y.displayName="FormLabel";let g=r.forwardRef((e,t)=>{let{...s}=e,{error:r,formItemId:i,formDescriptionId:o,formMessageId:l}=f();return(0,n.jsx)(a.g7,{ref:t,id:i,"aria-describedby":r?"".concat(o," ").concat(l):"".concat(o),"aria-invalid":!!r,...s})});g.displayName="FormControl",r.forwardRef((e,t)=>{let{className:s,...r}=e,{formDescriptionId:a}=f();return(0,n.jsx)("p",{ref:t,id:a,className:(0,o.cn)("text-sm text-muted-foreground",s),...r})}).displayName="FormDescription";let v=r.forwardRef((e,t)=>{let{className:s,children:r,...a}=e,{error:i,formMessageId:l}=f(),u=i?String(null==i?void 0:i.message):r;return u?(0,n.jsx)("p",{ref:t,id:l,className:(0,o.cn)("text-sm font-medium text-destructive",s),...a,children:u}):null});v.displayName="FormMessage"},6294:function(e,t,s){"use strict";s.d(t,{Bw:function(){return p},Ph:function(){return c},Ql:function(){return x},i4:function(){return h},ki:function(){return d}});var n=s(7437),r=s(2265),a=s(4357),i=s(2421),o=s(4392),l=s(2468),u=s(7440);let c=a.fC;a.ZA;let d=a.B4,h=r.forwardRef((e,t)=>{let{className:s,children:r,...o}=e;return(0,n.jsxs)(a.xz,{ref:t,className:(0,u.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...o,children:[r,(0,n.jsx)(a.JO,{asChild:!0,children:(0,n.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});h.displayName=a.xz.displayName;let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)(a.u_,{ref:t,className:(0,u.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,n.jsx)(o.Z,{className:"h-4 w-4"})})});m.displayName=a.u_.displayName;let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)(a.$G,{ref:t,className:(0,u.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,n.jsx)(i.Z,{className:"h-4 w-4"})})});f.displayName=a.$G.displayName;let p=r.forwardRef((e,t)=>{let{className:s,children:r,position:i="popper",...o}=e;return(0,n.jsx)(a.h_,{children:(0,n.jsxs)(a.VY,{ref:t,className:(0,u.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...o,children:[(0,n.jsx)(m,{}),(0,n.jsx)(a.l_,{className:(0,u.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,n.jsx)(f,{})]})})});p.displayName=a.VY.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)(a.__,{ref:t,className:(0,u.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=a.__.displayName;let x=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,n.jsxs)(a.ck,{ref:t,className:(0,u.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(a.wU,{children:(0,n.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(a.eT,{children:r})]})});x.displayName=a.ck.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)(a.Z0,{ref:t,className:(0,u.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=a.Z0.displayName},4194:function(e,t,s){"use strict";s.d(t,{U:function(){return l}});var n=s(903);let r=(e,t,s)=>{let n=new Date(new Date().getTime()+1e3*(s||14400)),r="expires=".concat(n.toUTCString()),a="".concat(e,"=").concat(t,"; ").concat(r,"; path=/");document.cookie=a},a=e=>{let t=("undefined"!=typeof document?decodeURIComponent(document.cookie):"").split(";");for(let s=0;s<t.length;s++){let n=t[s].trim();if(n.startsWith("".concat(e,"=")))return n.substring(e.length+1)}return null},i=e=>{document.cookie="".concat(e,"=; Max-Age=",0,"; path=/;")},o=e=>{if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},l=(0,n.U)()(e=>({userData:o(a("nomase_user"))||null,setUserData:t=>e({userData:t}),appData:o(a("nomase_app"))||null,setAppData:t=>e({appData:t}),menuControlData:o(a("nomase_menu"))||null,setMenuControlData:t=>e({menuControlData:t}),mainMenuData:o(a("nomase_main"))||null,setMainMenuData:t=>e({mainMenuData:t}),accessCode:o(a("nomase_access"))||"",setAccessCode:t=>{e({accessCode:t}),r("nomase_access",JSON.stringify(t))},login:t=>{e(()=>({userData:t}));let s=t.UserRec,n=t.AcctCollection,a=t.cod_prod,i=t.CompanyUsers,o=t.AcctBlocks,l=t.mMenuControls,u=t.xMainMenu,c=t.pLimitsObject;r("nomase_app",JSON.stringify({codProd:a,companyUsers:i,menuControls:l,acctBlocks:o})),r("nomase_user",JSON.stringify({userRec:s,acctCollection:n,pLimitsObject:c})),r("nomase_main",JSON.stringify({xMainMenu:u})),location.href="/dashboard"},logout:()=>{e(()=>({userData:null,appData:null,menuControlData:null,mainMenuData:null})),i("nomase_user"),i("nomase_app"),i("nomase_main"),location.href="/"}}))},4058:function(e,t,s){"use strict";s.d(t,{x:function(){return n}});let n=e=>parseFloat(e).toLocaleString("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:2})},2812:function(e,t,s){"use strict";s.d(t,{R:function(){return o},m:function(){return i}});var n=s(9948),r=s(3494),a=s(924),i=class extends r.F{#e;#t;#s;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||o(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||("pending"===this.state.status?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){this.#s=(0,a.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#n({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});let t="pending"===this.state.status,s=!this.#s.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:s}),await this.#t.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#n({type:"pending",context:t,variables:e,isPaused:s})}let n=await this.#s.start();return await this.#t.config.onSuccess?.(n,e,this.state.context,this),await this.options.onSuccess?.(n,e,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,e,this.state.context),this.#n({type:"success",data:n}),n}catch(t){try{throw await this.#t.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#t.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#n({type:"error",error:t})}}finally{this.#t.runNext(this)}}#n(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),n.V.batch(()=>{this.#e.forEach(t=>{t.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function o(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},5524:function(e,t,s){"use strict";s.d(t,{D:function(){return d}});var n=s(2265),r=s(2812),a=s(9948),i=s(9010),o=s(6298),l=class extends i.l{#r;#a=void 0;#i;#o;constructor(e,t){super(),this.#r=e,this.setOptions(t),this.bindMethods(),this.#l()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#r.defaultMutationOptions(e),(0,o.VS)(this.options,t)||this.#r.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#i,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(t.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#i?.state.status==="pending"&&this.#i.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#i?.removeObserver(this)}onMutationUpdate(e){this.#l(),this.#u(e)}getCurrentResult(){return this.#a}reset(){this.#i?.removeObserver(this),this.#i=void 0,this.#l(),this.#u()}mutate(e,t){return this.#o=t,this.#i?.removeObserver(this),this.#i=this.#r.getMutationCache().build(this.#r,this.options),this.#i.addObserver(this),this.#i.execute(e)}#l(){let e=this.#i?.state??(0,r.R)();this.#a={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#u(e){a.V.batch(()=>{if(this.#o&&this.hasListeners()){let t=this.#a.variables,s=this.#a.context;e?.type==="success"?(this.#o.onSuccess?.(e.data,t,s),this.#o.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#o.onError?.(e.error,t,s),this.#o.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#a)})})}},u=s(3191),c=s(7832);function d(e,t){let s=(0,u.NL)(t),[r]=n.useState(()=>new l(s,e));n.useEffect(()=>{r.setOptions(e)},[r,e]);let i=n.useSyncExternalStore(n.useCallback(e=>r.subscribe(a.V.batchCalls(e)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=n.useCallback((e,t)=>{r.mutate(e,t).catch(c.Z)},[r]);if(i.error&&(0,c.L)(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}}},function(e){e.O(0,[8218,4868,9300,4469,6059,2576,5815,7860,6235,8415,2971,7023,1744],function(){return e(e.s=957)}),_N_E=e.O()}]);