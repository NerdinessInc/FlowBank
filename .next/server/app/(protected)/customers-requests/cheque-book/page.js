(()=>{var e={};e.id=380,e.ids=[380],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},88137:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c}),t(58854),t(34896),t(35866),t(70622);var r=t(23191),n=t(88716),a=t(37922),o=t.n(a),i=t(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(s,l);let c=["",{children:["(protected)",{children:["customers-requests",{children:["cheque-book",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,58854)),"/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/customers-requests/cheque-book/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,34896)),"/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,70622)),"/Users/laurent/Documents/Nerdiness/flow_bank/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/customers-requests/cheque-book/page.tsx"],d="/(protected)/customers-requests/cheque-book/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(protected)/customers-requests/cheque-book/page",pathname:"/customers-requests/cheque-book",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},33106:(e,s,t)=>{Promise.resolve().then(t.bind(t,17151))},17151:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var r=t(10326),n=t(17577),a=t(2453),o=t(74064),i=t(74723),l=t(27256),c=t(14412),u=t(10119),d=t(13192),m=t(90772),p=t(29270),x=t(34474),h=t(89139),f=t(29275),g=t(71185);function y(){let{userData:e}=(0,h.U)(),[s,t]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async function(){let e=await fetch("/api/getSessionId");e.ok?t((await e.json()).sessionID):console.error("Failed to fetch session ID")})()},[]);let{data:y,isLoading:j}=(0,c.a)({queryKey:["my-accounts"],queryFn:()=>(0,g.Bz)(2,e?.userRec,e?.acctCollection?.AcctStruct),enabled:!!e?.acctCollection?.AcctStruct}),{mutate:v,isPending:b}=(0,u.D)({mutationFn:e=>(0,g.wg)(e),onSuccess:e=>{console.log(e)}}),q=l.z.object({messageTypeId:l.z.string().min(1,"Please enter your message type id"),messageDate:l.z.string().min(1,"Please enter your message date"),messageStatus:l.z.string().min(1,"Please enter your message status"),messageSenderName:l.z.string().min(1,"Please enter your message sender name"),messageSenderEmail:l.z.string().min(1,"Please enter your message sender email"),messageSenderPhone:l.z.number().min(1,"Please enter your message sender phone"),messageSenderCustId:l.z.number().min(1,"Please enter your message sender cust id"),account:l.z.string().min(1,"Please enter your source account"),leaves:l.z.string().min(1,"Please enter your leaves"),deliveryOption:l.z.string().min(1,"Please enter your delivery option")}),N=(0,i.cI)({defaultValues:{messageTypeId:"",messageDate:"",messageStatus:"",messageSenderName:"",messageSenderEmail:"",messageSenderPhone:"",messageSenderCustId:"",account:"",leaves:"",deliveryOption:""},resolver:(0,o.F)(q)}),{handleSubmit:P,setValue:w}=N;(0,n.useEffect)(()=>{y?.data&&s&&e?.acctCollection?.AcctStruct&&(w("messageTypeId",`ChequeRequest|${s}`),w("messageDate",(0,a.WU)(new Date,"dd-MM-yyyy")),w("messageStatus","Pending"),w("messageSenderName",e.acctCollection.AcctStruct[1].cod_acct_title),w("messageSenderEmail",e.acctCollection.AcctStruct[1].Email),w("messageSenderPhone",e.acctCollection.AcctStruct[1].Gsm),w("messageSenderCustId",e.acctCollection.AcctStruct[1].CustomerID),w("deliveryOption","Branch"))},[y,s,e,w]);let S=async e=>{v({...e,messageBody:"Cheque Book request from User with Account Number: "+e.account+"|.Details are as follows: Number of requested leaves is "+e.leaves+",Requested Delivery Option is: "+e.deliveryOption})};return j?r.jsx(d.g,{}):(0,r.jsxs)("main",{className:"h-full w-full flex flex-col gap-6 items-center md:justify-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Cheque Book Request"}),r.jsx(p.l0,{...N,children:(0,r.jsxs)("form",{onSubmit:P(S),className:"space-y-3 w-[90%] md:w-1/2 border border-border rounded-md p-6",children:[r.jsx(p.Wi,{control:N.control,name:"account",render:({field:e})=>(0,r.jsxs)(p.xJ,{children:[r.jsx(p.lX,{children:"Select Account"}),r.jsx(p.NI,{children:(0,r.jsxs)(x.Ph,{onValueChange:e.onChange,value:e.value,children:[r.jsx(x.i4,{children:r.jsx(x.ki,{placeholder:"Select Source Account"})}),r.jsx(x.Bw,{children:y?.data?.map((e,s)=>r.jsxs(x.Ql,{value:e.accountNumber,children:[e.accountNumber," -"," ",f.x(e.bookBalance)]},s))})]})}),r.jsx(p.zG,{})]})}),r.jsx(p.Wi,{control:N.control,name:"leaves",render:({field:e})=>(0,r.jsxs)(p.xJ,{children:[r.jsx(p.lX,{children:"No. of Leaves"}),r.jsx(p.NI,{children:(0,r.jsxs)(x.Ph,{value:e.value,onValueChange:e.onChange,children:[r.jsx(x.i4,{children:r.jsx(x.ki,{placeholder:"Select No. of Leaves"})}),(0,r.jsxs)(x.Bw,{children:[r.jsx(x.Ql,{value:"25",children:"25"}),r.jsx(x.Ql,{value:"50",children:"50"}),r.jsx(x.Ql,{value:"100",children:"100"})]})]})}),r.jsx(p.zG,{})]})}),r.jsx(p.Wi,{control:N.control,name:"deliveryOption",render:({field:e})=>(0,r.jsxs)(p.xJ,{children:[r.jsx(p.lX,{children:"Delivery Option"}),r.jsx(p.NI,{children:(0,r.jsxs)(x.Ph,{value:e.value,onValueChange:s=>e.onChange(s),children:[r.jsx(x.i4,{children:r.jsx(x.ki,{placeholder:"Select Delivery Option"})}),(0,r.jsxs)(x.Bw,{children:[r.jsx(x.Ql,{value:"branch",children:"By Branch"}),r.jsx(x.Ql,{value:"centralLocation",children:"By Central Location"})]})]})}),r.jsx(p.zG,{})]})}),r.jsx(m.z,{className:"w-full font-semibold mt-3",type:"submit",children:b?"...":"Submit"})]})})]})}},13192:(e,s,t)=>{"use strict";t.d(s,{g:()=>n});var r=t(10326);let n=()=>r.jsx("div",{className:"w-full h-full flex justify-center items-center",children:r.jsx("span",{className:"animate-ping relative inline-flex rounded-full h-6 w-6 bg-primary/20"})})},29270:(e,s,t)=>{"use strict";t.d(s,{l0:()=>d,NI:()=>y,Wi:()=>p,xJ:()=>f,lX:()=>g,zG:()=>j});var r=t(10326),n=t(17577),a=t(34214),o=t(74723),i=t(77863),l=t(34478);let c=(0,t(28671).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=n.forwardRef(({className:e,...s},t)=>r.jsx(l.f,{ref:t,className:(0,i.cn)(c(),e),...s}));u.displayName=l.f.displayName;let d=o.RV,m=n.createContext({}),p=({...e})=>r.jsx(m.Provider,{value:{name:e.name},children:r.jsx(o.Qr,{...e})}),x=()=>{let e=n.useContext(m),s=n.useContext(h),{getFieldState:t,formState:r}=(0,o.Gc)(),a=t(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=s;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},h=n.createContext({}),f=n.forwardRef(({className:e,...s},t)=>{let a=n.useId();return r.jsx(h.Provider,{value:{id:a},children:r.jsx("div",{ref:t,className:(0,i.cn)("space-y-2",e),...s})})});f.displayName="FormItem";let g=n.forwardRef(({className:e,...s},t)=>{let{error:n,formItemId:a}=x();return r.jsx(u,{ref:t,className:(0,i.cn)(n&&"text-destructive",e),htmlFor:a,...s})});g.displayName="FormLabel";let y=n.forwardRef(({...e},s)=>{let{error:t,formItemId:n,formDescriptionId:o,formMessageId:i}=x();return r.jsx(a.g7,{ref:s,id:n,"aria-describedby":t?`${o} ${i}`:`${o}`,"aria-invalid":!!t,...e})});y.displayName="FormControl",n.forwardRef(({className:e,...s},t)=>{let{formDescriptionId:n}=x();return r.jsx("p",{ref:t,id:n,className:(0,i.cn)("text-sm text-muted-foreground",e),...s})}).displayName="FormDescription";let j=n.forwardRef(({className:e,children:s,...t},n)=>{let{error:a,formMessageId:o}=x(),l=a?String(a?.message):s;return l?r.jsx("p",{ref:n,id:o,className:(0,i.cn)("text-sm font-medium text-destructive",e),...t,children:l}):null});j.displayName="FormMessage"},29275:(e,s,t)=>{"use strict";t.d(s,{x:()=>r});let r=e=>parseFloat(e).toLocaleString("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:2})},58854:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/customers-requests/cheque-book/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,511,957,171,908,412,21,298,833,185],()=>t(88137));module.exports=r})();