(()=>{var e={};e.id=923,e.ids=[923],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},85546:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c}),s(7676),s(34896),s(35866),s(70622);var r=s(23191),n=s(88716),a=s(37922),o=s.n(a),i=s(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let c=["",{children:["(protected)",{children:["customers-requests",{children:["stop-payment",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7676)),"/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/customers-requests/stop-payment/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,34896)),"/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,70622)),"/Users/laurent/Documents/Nerdiness/flow_bank/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/customers-requests/stop-payment/page.tsx"],d="/(protected)/customers-requests/stop-payment/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(protected)/customers-requests/stop-payment/page",pathname:"/customers-requests/stop-payment",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},46651:(e,t,s)=>{Promise.resolve().then(s.bind(s,13312))},13312:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var r=s(10326),n=s(17577),a=s(2453),o=s(74064),i=s(74723),l=s(27256),c=s(14412),u=s(10119),d=s(13192),m=s(90772),p=s(54432),x=s(29270),f=s(34474),h=s(89139),g=s(29275),b=s(71185);function y(){let{userData:e}=(0,h.U)(),[t,s]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async function(){let e=await fetch("/api/getSessionId");e.ok?s((await e.json()).sessionID):console.error("Failed to fetch session ID")})()},[]);let{data:y,isLoading:j}=(0,c.a)({queryKey:["my-accounts"],queryFn:()=>(0,b.Bz)(2,e?.userRec,e?.acctCollection?.AcctStruct),enabled:!!e?.acctCollection?.AcctStruct}),{mutate:N,isPending:q}=(0,u.D)({mutationFn:e=>(0,b.wg)(e),onSuccess:e=>{console.log(e)}}),v=l.z.object({messageTypeId:l.z.string().min(1,"Please enter your message type id"),messageDate:l.z.string().min(1,"Please enter a date"),messageStatus:l.z.string().min(1,"Please enter your message status"),messageSenderName:l.z.string().min(1,"Please enter your message sender name"),messageSenderEmail:l.z.string().min(1,"Please enter your message sender email"),messageSenderPhone:l.z.number().min(1,"Please enter your message sender phone"),messageSenderCustId:l.z.number().min(1,"Please enter your message sender cust id"),account:l.z.string().min(1,"Please select an account"),startChequeNumber:l.z.string().min(1,"Please enter start cheque number"),endChequeNumber:l.z.string().min(1,"Please enter end cheque number"),amount:l.z.string().min(1,"Please enter amount")}),P=(0,i.cI)({defaultValues:{messageTypeId:"",messageDate:"",messageStatus:"",messageSenderName:"",messageSenderEmail:"",messageSenderPhone:"",messageSenderCustId:"",account:"",startChequeNumber:"",endChequeNumber:"",amount:""},resolver:(0,o.F)(v)}),{handleSubmit:w,setValue:S}=P;(0,n.useEffect)(()=>{y?.data&&t&&e?.acctCollection?.AcctStruct&&(S("messageTypeId",`StopPayment|${t}`),S("messageStatus","Pending"),S("messageSenderName",e.acctCollection.AcctStruct[1].cod_acct_title),S("messageSenderEmail",e.acctCollection.AcctStruct[1].Email),S("messageSenderPhone",e.acctCollection.AcctStruct[1].Gsm),S("messageSenderCustId",e.acctCollection.AcctStruct[1].CustomerID))},[y,t,e,S]);let C=async e=>{N({...e,messageDate:(0,a.WU)(new Date(e.messageDate),"dd-MM-yyyy"),messageBody:`Cheque Bk Stop Request from User with Acct No:${e.account}|.Details are as follows: Range of requested leaves is from ${e.startChequeNumber} to ${e.endChequeNumber}|. The amount is ${e.amount}|.Cheque Date is ${e.messageDate}`})};return j?r.jsx(d.g,{}):(0,r.jsxs)("main",{className:"h-full w-full flex flex-col gap-6 items-center md:justify-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Stop Cheque Payment Request"}),r.jsx(x.l0,{...P,children:(0,r.jsxs)("form",{onSubmit:w(C),className:"space-y-3 w-[90%] md:w-1/2 border border-border rounded-md p-6",children:[r.jsx(x.Wi,{control:P.control,name:"account",render:({field:e})=>(0,r.jsxs)(x.xJ,{children:[r.jsx(x.lX,{children:"Select Account"}),r.jsx(x.NI,{children:(0,r.jsxs)(f.Ph,{onValueChange:e.onChange,value:e.value,children:[r.jsx(f.i4,{children:r.jsx(f.ki,{placeholder:"Select Source Account"})}),r.jsx(f.Bw,{children:y?.data?.map((e,t)=>r.jsxs(f.Ql,{value:e.accountNumber,children:[e.accountNumber," -"," ",g.x(e.bookBalance)]},t))})]})}),r.jsx(x.zG,{})]})}),r.jsx(x.Wi,{control:P.control,name:"startChequeNumber",render:({field:e})=>(0,r.jsxs)(x.xJ,{children:[r.jsx(x.lX,{children:"Start Cheque Number"}),r.jsx(x.NI,{children:r.jsx(p.I,{...e,placeholder:"Enter start cheque number"})}),r.jsx(x.zG,{})]})}),r.jsx(x.Wi,{control:P.control,name:"endChequeNumber",render:({field:e})=>(0,r.jsxs)(x.xJ,{children:[r.jsx(x.lX,{children:"End Cheque Number"}),r.jsx(x.NI,{children:r.jsx(p.I,{...e,placeholder:"Enter end cheque number"})}),r.jsx(x.zG,{})]})}),r.jsx(x.Wi,{control:P.control,name:"amount",render:({field:e})=>(0,r.jsxs)(x.xJ,{children:[r.jsx(x.lX,{children:"Amount"}),r.jsx(x.NI,{children:r.jsx(p.I,{...e,placeholder:"Enter amount"})}),r.jsx(x.zG,{})]})}),r.jsx(x.Wi,{control:P.control,name:"messageDate",render:({field:e})=>(0,r.jsxs)(x.xJ,{className:"flex flex-col w-full",children:[r.jsx(x.lX,{children:"Date"}),r.jsx(p.I,{...e,placeholder:"Enter your date",type:"date"}),r.jsx(x.zG,{})]})}),r.jsx(m.z,{className:"w-full font-semibold mt-3",type:"submit",children:q?"...":"Submit"})]})})]})}},13192:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var r=s(10326);let n=()=>r.jsx("div",{className:"w-full h-full flex justify-center items-center",children:r.jsx("span",{className:"animate-ping relative inline-flex rounded-full h-6 w-6 bg-primary/20"})})},29270:(e,t,s)=>{"use strict";s.d(t,{l0:()=>d,NI:()=>b,Wi:()=>p,xJ:()=>h,lX:()=>g,zG:()=>y});var r=s(10326),n=s(17577),a=s(34214),o=s(74723),i=s(77863),l=s(34478);let c=(0,s(28671).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=n.forwardRef(({className:e,...t},s)=>r.jsx(l.f,{ref:s,className:(0,i.cn)(c(),e),...t}));u.displayName=l.f.displayName;let d=o.RV,m=n.createContext({}),p=({...e})=>r.jsx(m.Provider,{value:{name:e.name},children:r.jsx(o.Qr,{...e})}),x=()=>{let e=n.useContext(m),t=n.useContext(f),{getFieldState:s,formState:r}=(0,o.Gc)(),a=s(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},f=n.createContext({}),h=n.forwardRef(({className:e,...t},s)=>{let a=n.useId();return r.jsx(f.Provider,{value:{id:a},children:r.jsx("div",{ref:s,className:(0,i.cn)("space-y-2",e),...t})})});h.displayName="FormItem";let g=n.forwardRef(({className:e,...t},s)=>{let{error:n,formItemId:a}=x();return r.jsx(u,{ref:s,className:(0,i.cn)(n&&"text-destructive",e),htmlFor:a,...t})});g.displayName="FormLabel";let b=n.forwardRef(({...e},t)=>{let{error:s,formItemId:n,formDescriptionId:o,formMessageId:i}=x();return r.jsx(a.g7,{ref:t,id:n,"aria-describedby":s?`${o} ${i}`:`${o}`,"aria-invalid":!!s,...e})});b.displayName="FormControl",n.forwardRef(({className:e,...t},s)=>{let{formDescriptionId:n}=x();return r.jsx("p",{ref:s,id:n,className:(0,i.cn)("text-sm text-muted-foreground",e),...t})}).displayName="FormDescription";let y=n.forwardRef(({className:e,children:t,...s},n)=>{let{error:a,formMessageId:o}=x(),l=a?String(a?.message):t;return l?r.jsx("p",{ref:n,id:o,className:(0,i.cn)("text-sm font-medium text-destructive",e),...s,children:l}):null});y.displayName="FormMessage"},54432:(e,t,s)=>{"use strict";s.d(t,{I:()=>o});var r=s(10326),n=s(17577),a=s(77863);let o=n.forwardRef(({className:e,type:t,...s},n)=>r.jsx("input",{type:t,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...s}));o.displayName="Input"},29275:(e,t,s)=>{"use strict";s.d(t,{x:()=>r});let r=e=>parseFloat(e).toLocaleString("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:2})},7676:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/customers-requests/stop-payment/page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,511,957,171,908,412,21,298,833,185],()=>s(85546));module.exports=r})();