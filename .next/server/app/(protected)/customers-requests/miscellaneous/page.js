(()=>{var e={};e.id=745,e.ids=[745],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},20982:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c}),t(90554),t(34896),t(35866),t(70622);var r=t(23191),a=t(88716),n=t(37922),o=t.n(n),i=t(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(s,l);let c=["",{children:["(protected)",{children:["customers-requests",{children:["miscellaneous",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,90554)),"/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/customers-requests/miscellaneous/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,34896)),"/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,70622)),"/Users/laurent/Documents/Nerdiness/flow_bank/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/customers-requests/miscellaneous/page.tsx"],d="/(protected)/customers-requests/miscellaneous/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(protected)/customers-requests/miscellaneous/page",pathname:"/customers-requests/miscellaneous",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},77219:(e,s,t)=>{Promise.resolve().then(t.bind(t,70453))},70453:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var r=t(10326),a=t(17577),n=t(2453),o=t(74064),i=t(74723),l=t(27256),c=t(14412),u=t(10119),d=t(13192),m=t(90772),p=t(29270),x=t(87673),g=t(34474),f=t(89139),h=t(29275),y=t(71185);function b(){let{userData:e}=(0,f.U)(),[s,t]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async function(){let e=await fetch("/api/getSessionId");e.ok?t((await e.json()).sessionID):console.error("Failed to fetch session ID")})()},[]);let{data:b,isLoading:j}=(0,c.a)({queryKey:["my-accounts"],queryFn:()=>(0,y.Bz)(2,e?.userRec,e?.acctCollection?.AcctStruct),enabled:!!e?.acctCollection?.AcctStruct}),{mutate:v,isPending:N}=(0,u.D)({mutationFn:e=>(0,y.wg)(e),onSuccess:e=>{console.log(e)}}),w=l.z.object({messageTypeId:l.z.string().min(1,"Please enter your message type id"),messageDate:l.z.string().min(1,"Please enter your message date"),messageStatus:l.z.string().min(1,"Please enter your message status"),messageSenderName:l.z.string().min(1,"Please enter your message sender name"),messageSenderEmail:l.z.string().min(1,"Please enter your message sender email"),messageSenderPhone:l.z.number().min(1,"Please enter your message sender phone"),messageSenderCustId:l.z.number().min(1,"Please enter your message sender cust id"),account:l.z.string().min(1,"Please select an account"),message:l.z.string().min(1,"Please enter your message")}),P=(0,i.cI)({defaultValues:{messageTypeId:"",messageDate:"",messageStatus:"",messageSenderName:"",messageSenderEmail:"",messageSenderPhone:"",messageSenderCustId:"",account:"",message:""},resolver:(0,o.F)(w)}),{handleSubmit:S,setValue:q}=P;(0,a.useEffect)(()=>{b?.data&&s&&e?.acctCollection?.AcctStruct&&(q("messageTypeId",`MiscRequest|${s}`),q("messageDate",(0,n.WU)(new Date,"dd-MM-yyyy")),q("messageStatus","Pending"),q("messageSenderName",e.acctCollection.AcctStruct[1].cod_acct_title),q("messageSenderEmail",e.acctCollection.AcctStruct[1].Email),q("messageSenderPhone",e.acctCollection.AcctStruct[1].Gsm),q("messageSenderCustId",e.acctCollection.AcctStruct[1].CustomerID))},[b,s,e,q]);let _=async e=>{v({...e,messageBody:`Miscellaneous Request from User with Acct No:${e.account}|.Details are as follows: ${e.message}`})};return j?r.jsx(d.g,{}):(0,r.jsxs)("main",{className:"h-full w-full flex flex-col gap-6 items-center md:justify-center",children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Miscellaneous Requests"}),r.jsx(p.l0,{...P,children:(0,r.jsxs)("form",{onSubmit:S(_),className:"space-y-3 w-[90%] md:w-1/2 border border-border rounded-md p-6",children:[r.jsx(p.Wi,{control:P.control,name:"account",render:({field:e})=>(0,r.jsxs)(p.xJ,{children:[r.jsx(p.lX,{children:"Select Account"}),r.jsx(p.NI,{children:(0,r.jsxs)(g.Ph,{onValueChange:e.onChange,value:e.value,children:[r.jsx(g.i4,{children:r.jsx(g.ki,{placeholder:"Select Source Account"})}),r.jsx(g.Bw,{children:b?.data?.map((e,s)=>r.jsxs(g.Ql,{value:e.accountNumber,children:[e.accountNumber," -"," ",h.x(e.bookBalance)]},s))})]})}),r.jsx(p.zG,{})]})}),r.jsx(p.Wi,{control:P.control,name:"message",render:({field:e})=>(0,r.jsxs)(p.xJ,{children:[r.jsx(p.lX,{children:"Message"}),r.jsx(p.NI,{children:r.jsx(x.g,{...e,placeholder:"Enter your message",className:"resize-none"})}),r.jsx(p.zG,{})]})}),r.jsx(m.z,{className:"w-full font-semibold mt-3",type:"submit",children:N?"...":"Submit"})]})})]})}},13192:(e,s,t)=>{"use strict";t.d(s,{g:()=>a});var r=t(10326);let a=()=>r.jsx("div",{className:"w-full h-full flex justify-center items-center",children:r.jsx("span",{className:"animate-ping relative inline-flex rounded-full h-6 w-6 bg-primary/20"})})},29270:(e,s,t)=>{"use strict";t.d(s,{l0:()=>d,NI:()=>y,Wi:()=>p,xJ:()=>f,lX:()=>h,zG:()=>b});var r=t(10326),a=t(17577),n=t(34214),o=t(74723),i=t(77863),l=t(34478);let c=(0,t(28671).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=a.forwardRef(({className:e,...s},t)=>r.jsx(l.f,{ref:t,className:(0,i.cn)(c(),e),...s}));u.displayName=l.f.displayName;let d=o.RV,m=a.createContext({}),p=({...e})=>r.jsx(m.Provider,{value:{name:e.name},children:r.jsx(o.Qr,{...e})}),x=()=>{let e=a.useContext(m),s=a.useContext(g),{getFieldState:t,formState:r}=(0,o.Gc)(),n=t(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=s;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...n}},g=a.createContext({}),f=a.forwardRef(({className:e,...s},t)=>{let n=a.useId();return r.jsx(g.Provider,{value:{id:n},children:r.jsx("div",{ref:t,className:(0,i.cn)("space-y-2",e),...s})})});f.displayName="FormItem";let h=a.forwardRef(({className:e,...s},t)=>{let{error:a,formItemId:n}=x();return r.jsx(u,{ref:t,className:(0,i.cn)(a&&"text-destructive",e),htmlFor:n,...s})});h.displayName="FormLabel";let y=a.forwardRef(({...e},s)=>{let{error:t,formItemId:a,formDescriptionId:o,formMessageId:i}=x();return r.jsx(n.g7,{ref:s,id:a,"aria-describedby":t?`${o} ${i}`:`${o}`,"aria-invalid":!!t,...e})});y.displayName="FormControl",a.forwardRef(({className:e,...s},t)=>{let{formDescriptionId:a}=x();return r.jsx("p",{ref:t,id:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...s})}).displayName="FormDescription";let b=a.forwardRef(({className:e,children:s,...t},a)=>{let{error:n,formMessageId:o}=x(),l=n?String(n?.message):s;return l?r.jsx("p",{ref:a,id:o,className:(0,i.cn)("text-sm font-medium text-destructive",e),...t,children:l}):null});b.displayName="FormMessage"},87673:(e,s,t)=>{"use strict";t.d(s,{g:()=>o});var r=t(10326),a=t(17577),n=t(77863);let o=a.forwardRef(({className:e,...s},t)=>r.jsx("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));o.displayName="Textarea"},29275:(e,s,t)=>{"use strict";t.d(s,{x:()=>r});let r=e=>parseFloat(e).toLocaleString("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:2})},90554:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/customers-requests/miscellaneous/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,511,957,171,908,412,21,298,833,185],()=>t(20982));module.exports=r})();