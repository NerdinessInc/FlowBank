(()=>{var e={};e.id=565,e.ids=[565],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},40268:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,originalPathname:()=>d,pages:()=>u,routeModule:()=>h,tree:()=>c}),r(58345),r(34896),r(35866),r(70622);var s=r(23191),n=r(88716),i=r(37922),a=r.n(i),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["(protected)",{children:["transfers",{children:["interbank-local",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,58345)),"/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/transfers/interbank-local/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,34896)),"/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,70622)),"/Users/laurent/Documents/Nerdiness/flow_bank/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/transfers/interbank-local/page.tsx"],d="/(protected)/transfers/interbank-local/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(protected)/transfers/interbank-local/page",pathname:"/transfers/interbank-local",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},41026:(e,t,r)=>{Promise.resolve().then(r.bind(r,26384))},26384:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var s=r(10326),n=r(74064),i=r(17577),a=r(74723),o=r(27256),l=r(14412),c=r(10119),u=r(13192),d=r(90772),m=r(54432),h=r(29270),x=r(34474),p=r(89139),f=r(29275),b=r(71185);function j(){let{userData:e}=(0,p.U)(),[t,r]=(0,i.useState)(1),{data:j,isLoading:y}=(0,l.a)({queryKey:["my-accounts"],queryFn:()=>(0,b.Bz)(2,e?.userRec,e?.acctCollection?.AcctStruct),enabled:!!e?.acctCollection?.AcctStruct}),g=o.z.object({sourceAccount:o.z.string().min(1,"Please select your source account"),dailyTransferLimit:o.z.number().min(1,"Please enter your daily transfer limit"),destinationBank:o.z.string().min(1,"Please select your destination bank"),beneficiaryAccount:o.z.string().min(1,"Please enter beneficiary account"),beneficiaryName:o.z.string().min(1,"Please enter beneficiary name"),transferAmount:o.z.string().min(1,"Please enter transfer amount"),transferCode:o.z.string().min(1,"Please enter transfer code"),token:o.z.string().min(1,"Please enter your Token")}),v=(0,c.D)({mutationFn:b.DZ,onSuccess:e=>{console.log(e)}}),N=(0,a.cI)({defaultValues:{sourceAccount:"",dailyTransferLimit:0,destinationBank:"",beneficiaryAccount:"",beneficiaryName:"",transferAmount:"",transferCode:"",token:""},resolver:(0,n.F)(g),mode:"onChange"}),{handleSubmit:k,control:w,trigger:C,getValues:P,setValue:A,watch:I}=N;(0,i.useEffect)(()=>{I("sourceAccount").length>=10&&A("dailyTransferLimit",e?.pLimitsObject?.LimitsObject?.find(e=>e.Accountnumber.toString()===I("sourceAccount"))?.InterBankLimit)},[A,e,I("sourceAccount")]);let z=async()=>{await C({1:["sourceAccount"],2:["destinationBank","beneficiaryAccount","beneficiaryName"],3:["transferAmount","transferCode"]}[t])&&r(e=>Math.min(e+1,4))},M=()=>{r(e=>Math.max(e-1,1))},S=async e=>{console.log("Processing transfer:",e),v.mutate(e)};return y?s.jsx(u.g,{}):(0,s.jsxs)("main",{className:"h-full w-full flex flex-col gap-6 items-center md:justify-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Interbank (Local)"}),(0,s.jsxs)("div",{className:"w-full text-center mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg",children:["Step ",t," of 4"]}),(0,s.jsxs)("p",{className:"text-gray-600",children:[1===t&&"Select your source account",2===t&&"Select destination bank and beneficiary details",3===t&&"Enter transfer amount and details",4===t&&"Confirm transfer details"]})]}),s.jsx(h.l0,{...N,children:(0,s.jsxs)("form",{onSubmit:k(S),className:"w-[90%] md:w-2/3 grid grid-cols-1 gap-4 border border-border rounded-md p-6",children:[1===t&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(h.Wi,{control:w,name:"sourceAccount",render:({field:e})=>(0,s.jsxs)(h.xJ,{children:[s.jsx(h.lX,{children:"Source Account"}),s.jsx(h.NI,{children:(0,s.jsxs)(x.Ph,{onValueChange:e.onChange,value:e.value,children:[s.jsx(x.i4,{children:s.jsx(x.ki,{placeholder:"Select Source Account"})}),s.jsx(x.Bw,{children:j?.data?.map((e,t)=>s.jsxs(x.Ql,{value:e.accountNumber,children:[e.accountNumber," -"," ",f.x(e.bookBalance)]},t))})]})}),s.jsx(h.zG,{})]})}),s.jsx(h.Wi,{control:w,name:"dailyTransferLimit",render:({field:e})=>(0,s.jsxs)(h.xJ,{children:[s.jsx(h.lX,{children:"Daily Transfer Limit"}),s.jsx(h.NI,{children:s.jsx(m.I,{...e,placeholder:"Enter your daily transfer limit",disabled:!0})}),s.jsx(h.zG,{})]})})]}),2===t&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(h.Wi,{control:w,name:"destinationBank",render:({field:e})=>(0,s.jsxs)(h.xJ,{children:[s.jsx(h.lX,{children:"Destination Bank"}),s.jsx(h.NI,{children:(0,s.jsxs)(x.Ph,{onValueChange:e.onChange,value:e.value,children:[s.jsx(x.i4,{children:s.jsx(x.ki,{placeholder:"Select Destination Bank"})}),(0,s.jsxs)(x.Bw,{children:[s.jsx(x.Ql,{value:"bank1",children:"Bank 1"}),s.jsx(x.Ql,{value:"bank2",children:"Bank 2"})]})]})}),s.jsx(h.zG,{})]})}),s.jsx(h.Wi,{control:w,name:"beneficiaryAccount",render:({field:e})=>(0,s.jsxs)(h.xJ,{children:[s.jsx(h.lX,{children:"Beneficiary Account"}),s.jsx(h.NI,{children:s.jsx(m.I,{...e,placeholder:"Enter Beneficiary Account"})}),s.jsx(h.zG,{})]})}),s.jsx(h.Wi,{control:w,name:"beneficiaryName",render:({field:e})=>(0,s.jsxs)(h.xJ,{children:[s.jsx(h.lX,{children:"Beneficiary Name"}),s.jsx(h.NI,{children:s.jsx(m.I,{...e,placeholder:"Enter Beneficiary Name"})}),s.jsx(h.zG,{})]})})]}),3===t&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(h.Wi,{control:w,name:"transferAmount",render:({field:e})=>(0,s.jsxs)(h.xJ,{children:[s.jsx(h.lX,{children:"Transfer Amount"}),s.jsx(h.NI,{children:s.jsx(m.I,{...e,placeholder:"Enter Transfer Amount"})}),s.jsx(h.zG,{})]})}),s.jsx(h.Wi,{control:w,name:"transferCode",render:({field:e})=>(0,s.jsxs)(h.xJ,{children:[s.jsx(h.lX,{children:"Transfer Code"}),s.jsx(h.NI,{children:s.jsx(m.I,{...e,placeholder:"Enter Transfer Code"})}),s.jsx(h.zG,{})]})})]}),4===t&&(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("p",{className:"mb-4",children:["You are about to transfer"," ",(0,f.x)(P("transferAmount"))," from your account"," ",P("sourceAccount")," to"," ",P("beneficiaryAccount"),","," ",P("beneficiaryName")," at ",P("destinationBank"),"."]}),s.jsx("p",{className:"font-bold mb-4",children:"Do you want to proceed?"}),s.jsx(h.Wi,{control:w,name:"token",render:({field:e})=>(0,s.jsxs)(h.xJ,{children:[s.jsx(h.lX,{children:"Token"}),s.jsx(h.NI,{children:s.jsx(m.I,{...e,placeholder:"Enter your Token"})}),s.jsx(h.zG,{})]})})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[t>1&&s.jsx(d.z,{type:"button",onClick:M,variant:"outline",className:"mr-2",children:"Back"}),t<4&&s.jsx(d.z,{type:"button",className:"ml-auto",onClick:z,children:"Next"}),4===t&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(d.z,{type:"button",onClick:M,variant:"outline",children:"Cancel"}),s.jsx(d.z,{type:"submit",className:"ml-auto",children:"Confirm Transfer"})]})]})]})})]})}},13192:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});var s=r(10326);let n=()=>s.jsx("div",{className:"w-full h-full flex justify-center items-center",children:s.jsx("span",{className:"animate-ping relative inline-flex rounded-full h-6 w-6 bg-primary/20"})})},29270:(e,t,r)=>{"use strict";r.d(t,{l0:()=>d,NI:()=>j,Wi:()=>h,xJ:()=>f,lX:()=>b,zG:()=>y});var s=r(10326),n=r(17577),i=r(34214),a=r(74723),o=r(77863),l=r(34478);let c=(0,r(28671).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=n.forwardRef(({className:e,...t},r)=>s.jsx(l.f,{ref:r,className:(0,o.cn)(c(),e),...t}));u.displayName=l.f.displayName;let d=a.RV,m=n.createContext({}),h=({...e})=>s.jsx(m.Provider,{value:{name:e.name},children:s.jsx(a.Qr,{...e})}),x=()=>{let e=n.useContext(m),t=n.useContext(p),{getFieldState:r,formState:s}=(0,a.Gc)(),i=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},p=n.createContext({}),f=n.forwardRef(({className:e,...t},r)=>{let i=n.useId();return s.jsx(p.Provider,{value:{id:i},children:s.jsx("div",{ref:r,className:(0,o.cn)("space-y-2",e),...t})})});f.displayName="FormItem";let b=n.forwardRef(({className:e,...t},r)=>{let{error:n,formItemId:i}=x();return s.jsx(u,{ref:r,className:(0,o.cn)(n&&"text-destructive",e),htmlFor:i,...t})});b.displayName="FormLabel";let j=n.forwardRef(({...e},t)=>{let{error:r,formItemId:n,formDescriptionId:a,formMessageId:o}=x();return s.jsx(i.g7,{ref:t,id:n,"aria-describedby":r?`${a} ${o}`:`${a}`,"aria-invalid":!!r,...e})});j.displayName="FormControl",n.forwardRef(({className:e,...t},r)=>{let{formDescriptionId:n}=x();return s.jsx("p",{ref:r,id:n,className:(0,o.cn)("text-sm text-muted-foreground",e),...t})}).displayName="FormDescription";let y=n.forwardRef(({className:e,children:t,...r},n)=>{let{error:i,formMessageId:a}=x(),l=i?String(i?.message):t;return l?s.jsx("p",{ref:n,id:a,className:(0,o.cn)("text-sm font-medium text-destructive",e),...r,children:l}):null});y.displayName="FormMessage"},54432:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});var s=r(10326),n=r(17577),i=r(77863);let a=n.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));a.displayName="Input"},29275:(e,t,r)=>{"use strict";r.d(t,{x:()=>s});let s=e=>parseFloat(e).toLocaleString("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:2})},58345:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/transfers/interbank-local/page.tsx#default`)},10119:(e,t,r)=>{"use strict";r.d(t,{D:()=>d});var s=r(17577),n=r(71180),i=r(12113),a=r(64351),o=r(3341),l=class extends a.l{#e;#t=void 0;#r;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(t.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#i()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#n(){let e=this.#r?.state??(0,n.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){i.V.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#s.onSuccess?.(e.data,t,r),this.#s.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#s.onError?.(e.error,t,r),this.#s.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#t)})})}},c=r(44976),u=r(78613);function d(e,t){let r=(0,c.NL)(t),[n]=s.useState(()=>new l(r,e));s.useEffect(()=>{n.setOptions(e)},[n,e]);let a=s.useSyncExternalStore(s.useCallback(e=>n.subscribe(i.V.batchCalls(e)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=s.useCallback((e,t)=>{n.mutate(e,t).catch(u.Z)},[n]);if(a.error&&(0,u.L)(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,511,957,171,908,412,298,833,185],()=>r(40268));module.exports=s})();