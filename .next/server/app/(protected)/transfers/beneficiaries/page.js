(()=>{var e={};e.id=539,e.ids=[539],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},69273:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,originalPathname:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c}),r(98516),r(34896),r(35866),r(70622);var s=r(23191),i=r(88716),n=r(37922),a=r.n(n),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["(protected)",{children:["transfers",{children:["beneficiaries",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,98516)),"/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/transfers/beneficiaries/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,34896)),"/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,70622)),"/Users/laurent/Documents/Nerdiness/flow_bank/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/transfers/beneficiaries/page.tsx"],d="/(protected)/transfers/beneficiaries/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(protected)/transfers/beneficiaries/page",pathname:"/transfers/beneficiaries",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},47731:(e,t,r)=>{Promise.resolve().then(r.bind(r,50477))},50477:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var s=r(10326),i=r(94215),n=r(74064),a=r(74723),o=r(27256),l=r(44976),c=r(14412),u=r(10119),d=r(13192),m=r(90772),p=r(29270),f=r(54432),h=r(15940),x=r(89139),b=r(71185);function y(){let{userData:e}=(0,x.U)(),t=(0,l.NL)(),{toast:r}=(0,i.pm)(),{data:y,isLoading:j}=(0,c.a)({queryKey:["beneficiaries"],queryFn:()=>(0,b.$u)(e?.userRec),enabled:!!e}),N=o.z.object({accountNumber:o.z.string().min(1,"Please enter your beneficiary account"),accountName:o.z.string().min(1,"Please enter your beneficiary name"),currency:o.z.string().min(1,"Please enter your beneficiary account currency")}),g=(0,a.cI)({defaultValues:{accountNumber:"",accountName:"",currency:""},resolver:(0,n.F)(N)}),{handleSubmit:v}=g,{mutate:w,isPending:R}=(0,u.D)({mutationFn:e=>(0,b.G6)(e.user,e.data),mutationKey:["add-beneficiary"],onSuccess:e=>{e.retVal?r({title:"Account added successfully!"}):r({title:e.success,variant:"destructive"}),t.invalidateQueries({queryKey:["beneficiaries"]})}}),q=async t=>{w({user:e?.userRec,data:t})},P=y?.data?.slice(1).map(e=>{let[t,r,s]=e.split("|");return{accountNumber:t,accountName:r,currency:s}});return j?s.jsx(d.g,{}):(0,s.jsxs)("main",{className:"h-full w-full flex flex-col gap-6 items-center md:justify-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Beneficiary Maintenance for Third Party Transfers"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 w-full gap-8",children:[(0,s.jsxs)("div",{className:"col-span-2 md:col-span-1",children:[s.jsx("h2",{className:"font-semibold mb-2 text-xl",children:"Beneficiary Accounts"}),s.jsx("div",{className:"w-full",children:(0,s.jsxs)(h.iA,{children:[s.jsx(h.xD,{children:(0,s.jsxs)(h.SC,{children:[s.jsx(h.ss,{children:"Account Number"}),s.jsx(h.ss,{children:"Account Title"}),s.jsx(h.ss,{children:"Currency"})]})}),s.jsx(h.RM,{children:P?.map((e,t)=>s.jsxs(h.SC,{className:"cursor-pointer",children:[s.jsx(h.pj,{children:e.accountNumber}),s.jsx(h.pj,{children:e.accountName}),s.jsx(h.pj,{children:e.currency})]},t))})]})})]}),(0,s.jsxs)("div",{className:"col-span-2 md:col-span-1 w-full",children:[s.jsx("h2",{className:"font-semibold mb-2 text-xl",children:"Add New Beneficiary"}),s.jsx(p.l0,{...g,children:(0,s.jsxs)("form",{onSubmit:v(q),className:"space-y-3  border border-border rounded-md p-6",children:[s.jsx(p.Wi,{control:g.control,name:"accountNumber",render:({field:e})=>(0,s.jsxs)(p.xJ,{className:"col-span-2 md:col-span-1",children:[s.jsx(p.lX,{children:"Beneficiary Account"}),s.jsx(p.NI,{children:s.jsx(f.I,{...e,placeholder:"Enter your beneficiary account",required:!0})}),s.jsx(p.zG,{})]})}),s.jsx(p.Wi,{control:g.control,name:"accountName",render:({field:e})=>(0,s.jsxs)(p.xJ,{className:"col-span-2 md:col-span-1",children:[s.jsx(p.lX,{children:"Beneficiary Name"}),s.jsx(p.NI,{children:s.jsx(f.I,{...e,placeholder:"Enter your beneficiary name",required:!0})}),s.jsx(p.zG,{})]})}),s.jsx(p.Wi,{control:g.control,name:"currency",render:({field:e})=>(0,s.jsxs)(p.xJ,{className:"col-span-2 md:col-span-1",children:[s.jsx(p.lX,{children:"Beneficiary Account Currency"}),s.jsx(p.NI,{children:s.jsx(f.I,{...e,placeholder:"Enter your beneficiary account currency",required:!0})}),s.jsx(p.zG,{})]})}),s.jsx(m.z,{className:"w-full font-semibold mt-3",type:"submit",children:R?"...":"Add Account"})]})})]})]})]})}},13192:(e,t,r)=>{"use strict";r.d(t,{g:()=>i});var s=r(10326);let i=()=>s.jsx("div",{className:"w-full h-full flex justify-center items-center",children:s.jsx("span",{className:"animate-ping relative inline-flex rounded-full h-6 w-6 bg-primary/20"})})},29270:(e,t,r)=>{"use strict";r.d(t,{l0:()=>d,NI:()=>y,Wi:()=>p,xJ:()=>x,lX:()=>b,zG:()=>j});var s=r(10326),i=r(17577),n=r(34214),a=r(74723),o=r(77863),l=r(34478);let c=(0,r(28671).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=i.forwardRef(({className:e,...t},r)=>s.jsx(l.f,{ref:r,className:(0,o.cn)(c(),e),...t}));u.displayName=l.f.displayName;let d=a.RV,m=i.createContext({}),p=({...e})=>s.jsx(m.Provider,{value:{name:e.name},children:s.jsx(a.Qr,{...e})}),f=()=>{let e=i.useContext(m),t=i.useContext(h),{getFieldState:r,formState:s}=(0,a.Gc)(),n=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...n}},h=i.createContext({}),x=i.forwardRef(({className:e,...t},r)=>{let n=i.useId();return s.jsx(h.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:(0,o.cn)("space-y-2",e),...t})})});x.displayName="FormItem";let b=i.forwardRef(({className:e,...t},r)=>{let{error:i,formItemId:n}=f();return s.jsx(u,{ref:r,className:(0,o.cn)(i&&"text-destructive",e),htmlFor:n,...t})});b.displayName="FormLabel";let y=i.forwardRef(({...e},t)=>{let{error:r,formItemId:i,formDescriptionId:a,formMessageId:o}=f();return s.jsx(n.g7,{ref:t,id:i,"aria-describedby":r?`${a} ${o}`:`${a}`,"aria-invalid":!!r,...e})});y.displayName="FormControl",i.forwardRef(({className:e,...t},r)=>{let{formDescriptionId:i}=f();return s.jsx("p",{ref:r,id:i,className:(0,o.cn)("text-sm text-muted-foreground",e),...t})}).displayName="FormDescription";let j=i.forwardRef(({className:e,children:t,...r},i)=>{let{error:n,formMessageId:a}=f(),l=n?String(n?.message):t;return l?s.jsx("p",{ref:i,id:a,className:(0,o.cn)("text-sm font-medium text-destructive",e),...r,children:l}):null});j.displayName="FormMessage"},54432:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});var s=r(10326),i=r(17577),n=r(77863);let a=i.forwardRef(({className:e,type:t,...r},i)=>s.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...r}));a.displayName="Input"},15940:(e,t,r)=>{"use strict";r.d(t,{RM:()=>l,SC:()=>c,iA:()=>a,pj:()=>d,ss:()=>u,xD:()=>o});var s=r(10326),i=r(17577),n=r(77863);let a=i.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:(0,n.cn)("w-full caption-bottom text-sm",e),...t})}));a.displayName="Table";let o=i.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:(0,n.cn)("[&_tr]:border-b",e),...t}));o.displayName="TableHeader";let l=i.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:(0,n.cn)("[&_tr:last-child]:border-0",e),...t}));l.displayName="TableBody",i.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let c=i.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));c.displayName="TableRow";let u=i.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));u.displayName="TableHead";let d=i.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));d.displayName="TableCell",i.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},98516:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`/Users/laurent/Documents/Nerdiness/flow_bank/app/(protected)/transfers/beneficiaries/page.tsx#default`)},10119:(e,t,r)=>{"use strict";r.d(t,{D:()=>d});var s=r(17577),i=r(71180),n=r(12113),a=r(64351),o=r(3341),l=class extends a.l{#e;#t=void 0;#r;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,o.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,o.Ym)(t.mutationKey)!==(0,o.Ym)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#n(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#n()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){let e=this.#r?.state??(0,i.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#n(e){n.V.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#s.onSuccess?.(e.data,t,r),this.#s.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#s.onError?.(e.error,t,r),this.#s.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#t)})})}},c=r(44976),u=r(78613);function d(e,t){let r=(0,c.NL)(t),[i]=s.useState(()=>new l(r,e));s.useEffect(()=>{i.setOptions(e)},[i,e]);let a=s.useSyncExternalStore(s.useCallback(e=>i.subscribe(n.V.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),o=s.useCallback((e,t)=>{i.mutate(e,t).catch(u.Z)},[i]);if(a.error&&(0,u.L)(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,511,957,171,908,412,298,833,185],()=>r(69273));module.exports=s})();